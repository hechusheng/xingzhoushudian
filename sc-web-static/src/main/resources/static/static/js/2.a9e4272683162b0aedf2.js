webpackJsonp([2],{536:function(e,t,a){a(583);var s=a(204)(a(551),a(571),"data-v-01b0a812",null);e.exports=s.exports},538:function(e,t,a){e.exports={default:a(539),__esModule:!0}},539:function(e,t,a){var s=a(51),o=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},551:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(538),o=a.n(s);t.default={data:function(){var e=this,t=function(e,t,a){""===t.replace(/(^\s*)|(\s*$)/g,"")?a(new Error("请输入用户名称")):a()},a=function(e,t,a){""===t.replace(/(^\s*)|(\s*$)/g,"")?a(new Error("请输入用户账号")):a()},s=function(t,a,s){""===a?s(new Error("请输入密码")):(""!==e.editPwd.passWordCheck&&e.$refs.editPwd.validateField("passWordCheck"),s())},o=function(t,a,s){""===a?s(new Error("请再次输入密码")):a!==e.editPwd.passWord?s(new Error("两次输入密码不一致!")):s()};return{data:[],defaultProps:{children:"children",label:"label"},dataSize:0,tableData:[],pageNum:1,pageSize:10,menuCode:"",menuButtonList:[],formData:{},tablePostData:[],dialogAdd:!1,dialogEdit:!1,dialogPwdEdit:!1,dialogRole:!1,innerVisibleAdd:!1,innerVisibleEdit:!1,dialogDeptSet:!1,dialogPostSet:!1,defautChoose:[],titleUserName:"",roleForm:{type:[],resource:""},roleFormData:[],getDataUrl:this.$store.state.url+"webauth/user/listUsers",addUrl:this.$store.state.url+"webauth/user/saveUser",editUrl:this.$store.state.url+"webauth/user/updateUser",editPwdUrl:this.$store.state.url+"webauth/user/updatePwd",delUrl:this.$store.state.url+"webauth/user/delUser",roleFindUrl:this.$store.state.url+"webauth/user/showUserRole",roleSubmintUrl:this.$store.state.url+"webauth/user/updateUserRole",getMenuUrl:this.$store.state.url+"/webauth/dept/deptsList",getPostByDeptUrl:this.$store.state.url+"/webauth/user/getPostByDept",getHasPost:this.$store.state.url+"/webauth/user/userAssignPost",zpUserPost:this.$store.state.url+"/webauth/user/updateUserPost",zpUserdept:this.$store.state.url+"/webauth/user/changeUserDepartment",formInline:{userAcct:"",userName:""},addInfo:{userAcct:"",userName:"",idCrad:"",sex:"1",tel:"",phone:"",email:"",deptCode:"",adminFlag:"0",ip:"",remark:""},deptName:"",chooseDept:{},selectId:{},selectPostId:{},editInfo:{},editInfoBefore:"",i:0,editPwd:{passWord:"",passWordCheck:""},rules:{userAcct:[{required:!0,validator:a,trigger:"blur"},{min:1,max:40,message:"长度在 1 到 40 个字符",trigger:"blur"}],userName:[{required:!0,validator:t,trigger:"blur"},{min:1,max:40,message:"长度在 1 到 40 个字符",trigger:"blur"}],idCrad:[{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"证件号码格式有误！",trigger:"blur"}],tel:[{pattern:/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/,message:"请输入正确的固定电话",trigger:"blur"}],phone:[{pattern:/^[1][3,4,5,7,8][0-9]{9}$/,message:"请输入正确的手机号码",trigger:"blur"}],email:[{pattern:/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,message:"请输入正确电子邮箱",trigger:"blur"}],deptName:[],ip:[{pattern:/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,message:"请输入正确的IP",trigger:"blur"}]},rules2:{passWord:[{required:!0,validator:s,trigger:"blur"}],passWordCheck:[{required:!0,validator:o,trigger:"blur"}]}}},watch:{pageNum:function(){this.getData()},pageSize:function(){this.getData()}},mounted:function(){this.$nextTick(function(){this.getData(),this.getButton()})},methods:{getButton:function(){var e=this;this.menuCode=this.$store.state.menuCode;var t=new URLSearchParams;t.append("USER_NAME",localStorage.getItem("ms_username")),t.append("MENU_CODE",this.menuCode),t.append("BUTTON_CODE",""),this.$axios.post(this.$store.state.getButtonUrl,t).then(function(t){0==t.data.code?e.menuButtonList=t.data.data:e.$message({showClose:!0,message:t.data.msg,type:"error"})})},chooseClick:function(e){"addUser"==e?this.addUser("addInfo"):"editPassword"==e?this.editPassword("editPwd"):"editNews"==e?this.editNews():"delUser"==e?this.delUser():"assignRole"==e?this.assignRole():"setPost"==e?this.setPost():"setDepartment"==e&&this.setDepartment()},searchForm:function(){var e=new URLSearchParams;e.append("formData",o()({userAcct:this.formInline.userAcct,userName:this.formInline.userName})),this.formData=e,1!=this.pageNum?this.pageNum=1:this.getData()},resetForm:function(e){this.$refs[e].resetFields()},addUser:function(e){this.dialogAdd=!0,this.$refs[e]&&this.$refs[e].resetFields()},openTreeChooseAdd:function(){this.getDeptData(),this.innerVisibleAdd=!0},openTreeChooseEdit:function(){this.defautChoose=[],this.defautChoose=[this.editInfoBefore.deptCode],this.chooseDept.id=this.editInfoBefore.deptCode,this.chooseDept.label=this.editInfoBefore.label,this.getDeptData(),this.innerVisibleEdit=!0},handleNodeClick:function(e){this.chooseDept=e},addChooseSure:function(e){this.chooseDept.id?1==e?(this.deptName=this.chooseDept.label,this.innerVisibleAdd=!1):0<this.$refs.tree1.getCheckedKeys().length?(this.editInfo.deptName=this.chooseDept.label,this.innerVisibleEdit=!1):this.$message({showClose:!0,message:"请选择一个部门",type:"error"}):this.$message({showClose:!0,message:"请选择一个部门",type:"error"})},getDeptData:function(){var e=this;this.chooseDept={},this.$axios.post(this.getMenuUrl).then(function(t){0==t.data.code?e.data=t.data.data:e.$message({showClose:!0,message:t.data.msg,type:"error"})})},cancelTreeDialog:function(){this.innerVisibleAdd=!1,this.innerVisibleEdit=!1},addSure:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=new URLSearchParams;a.append("userAcct",t.addInfo.userAcct),a.append("userName",t.addInfo.userName),a.append("idCrad",t.addInfo.idCrad),a.append("sex",t.addInfo.sex),a.append("tel",t.addInfo.tel),a.append("phone",t.addInfo.phone),a.append("email",t.addInfo.email),a.append("adminFlag",t.addInfo.adminFlag),a.append("deptCode",t.chooseDept.id),a.append("ip",t.addInfo.ip),a.append("remark",t.addInfo.remark),t.$axios.post(t.addUrl,a).then(function(e){0==e.data.code?(t.getData(),t.$message({showClose:!0,message:"新增用户成功",type:"success"})):t.$message({showClose:!0,message:e.data.msg,type:"error"})}),t.dialogAdd=!1})},cancelDialog:function(){this.dialogAdd=!1,this.dialogEdit=!1,this.dialogPwdEdit=!1,this.dialogRole=!1,this.dialogDeptSet=!1,this.dialogPostSet=!1},editNews:function(e){this.editInfoBefore&&void 0!=this.editInfoBefore.uuid?(this.dialogEdit=!0,this.editInfo=JSON.parse(o()(this.editInfoBefore))):this.$message({showClose:!0,message:"请选择一条数据进行修改",type:"error"})},editSure:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=new URLSearchParams;a.append("userCode",t.editInfo.userCode),a.append("userAcct",t.editInfo.userAcct),a.append("userName",t.editInfo.userName),a.append("idCrad",t.editInfo.idCrad),a.append("sex","男"==t.editInfo.sex?1:0),a.append("tel",t.editInfo.tel),a.append("phone",t.editInfo.phone),a.append("email",t.editInfo.email),a.append("adminFlag","是"==t.editInfo.adminFlag?1:0),a.append("deptCode",t.chooseDept.id),a.append("ip",t.editInfo.ip),a.append("remark",t.editInfo.remark),t.$axios.post(t.editUrl,a).then(function(e){0==e.data.code?(t.getData(),t.$message({showClose:!0,message:"修改用户成功",type:"success"})):t.$message({showClose:!0,message:e.data.msg,type:"error"})}),t.dialogEdit=!1})},editPassword:function(e){this.editInfoBefore?(this.$refs[e]&&this.$refs[e].resetFields(),void 0!=this.editInfoBefore.uuid?this.dialogPwdEdit=!0:this.$message({showClose:!0,message:"请选择一条数据进行修改",type:"error"})):this.$message({showClose:!0,message:"请选择一条数据进行修改",type:"error"})},editPwdSure:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=new URLSearchParams;a.append("USER_CODE",t.editInfo.userCode),a.append("USER_PWD",t.editPwd.passWord),t.$axios.post(t.editPwdUrl,a).then(function(e){0==e.data.code?(t.getData(),t.$message({showClose:!0,message:"修改密码成功",type:"success"})):t.$message({showClose:!0,message:e.data.msg,type:"error"})}),t.dialogPwdEdit=!1})},delUser:function(){var e=this;void 0!=this.selectId.length&&0<this.selectId.length?this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=new URLSearchParams;t.append("userCodes",e.selectId),e.$axios.post(e.delUrl,t).then(function(t){0==t.data.code?(Number(e.dataSize)-Number(e.delNum)>Number(Number(e.pageNum)-1)*Number(e.pageSize)&&Number(e.pageNum)>1?e.getData():e.pageNum--,e.editInfo={},e.$message({type:"success",message:"删除成功!"})):e.$message({showClose:!0,message:t.data.msg,type:"error"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):this.$message({showClose:!0,message:"请选择一条数据进行删除",type:"error"})},assignRole:function(){var e=this;if(this.editInfoBefore)if(void 0!=this.editInfoBefore.uuid){var t=new URLSearchParams;t.append("USER_CODE",this.editInfoBefore.userCode),this.$axios.post(this.roleFindUrl,t).then(function(t){if(e.roleForm={type:[],resource:""},0==t.data.code){e.roleFormData=t.data.data.listAllRoles;for(var a=t.data.data.userOwnRoles,s=0;s<a.length;s++)e.roleForm.type.push(a[s].roleCode),1==a[s].defaultFlag&&(e.roleForm.resource=a[s].roleCode)}else e.$message({showClose:!0,message:t.data.msg,type:"error"});e.dialogRole=!0})}else this.$message({showClose:!0,message:"请选择一条数据进行指派",type:"error"});else this.$message({showClose:!0,message:"请选择一条数据进行指派",type:"error"})},roleSure:function(){for(var e=this,t=[],a=0;a<this.roleForm.type.length;a++){var s={roleCode:"",defaultFlag:""};this.roleForm.resource==this.roleForm.type[a]?(s.roleCode=this.roleForm.resource,s.defaultFlag=1,t.push(s)):(s.roleCode=this.roleForm.type[a],s.defaultFlag=0,t.push(s))}var i=new URLSearchParams;i.append("USER_CODE",this.editInfoBefore.userCode),i.append("ROLE",o()(t)),this.$axios.post(this.roleSubmintUrl,i).then(function(t){0==t.data.code?(e.getData(),e.dialogRole=!1,e.$message({showClose:!0,message:"指派角色成功",type:"success"})):e.$message({showClose:!0,message:t.data.msg,type:"error"})})},chooseRadio:function(){-1==this.roleForm.type.indexOf(this.roleForm.resource)&&""!=this.roleForm.resource&&this.roleForm.type.push(this.roleForm.resource)},chooseCheck:function(){-1==this.roleForm.type.indexOf(this.roleForm.resource)&&(this.roleForm.resource="")},setPost:function(){this.editInfoBefore&&void 0!=this.editInfoBefore.uuid?null!=this.editInfoBefore.deptCode?(this.getPostByDept(),this.titleUserName=this.editInfoBefore.userName,this.dialogPostSet=!0):this.$message({showClose:!0,message:"请先设置部门",type:"error"}):this.$message({showClose:!0,message:"请选择一条数据进行设置岗位",type:"error"})},setPostSure:function(){var e=this,t=new URLSearchParams;t.append("USER_CODE",this.editInfoBefore.userCode),t.append("gws",this.selectPostId),this.$axios.post(this.zpUserPost,t).then(function(t){0==t.data.code?(e.$message({showClose:!0,message:"设置岗位成成功",type:"success"}),e.dialogPostSet=!1,e.getData()):e.$message({showClose:!0,message:t.data.msg,type:"error"})})},getUserHasPost:function(){var e=this,t=new URLSearchParams;t.append("USER_CODE",this.editInfoBefore.userCode),this.$axios.post(this.getHasPost,t).then(function(t){if(0==t.data.code){for(var a=[],s=0;s<t.data.data.length;s++)for(var o=0;o<e.tablePostData.length;o++)t.data.data[s].postCode==e.tablePostData[o].postCode&&(e.$refs.table.toggleRowSelection(e.tablePostData[o],!0),a.push(e.tablePostData[o].postCode));e.selectPostId=a.join(",")}})},getPostByDept:function(){var e=this,t=new URLSearchParams;t.append("deptCode",this.editInfoBefore.deptCode),this.$axios.post(this.getPostByDeptUrl,t).then(function(t){0==t.data.code?(e.tablePostData=t.data.data,e.getUserHasPost()):e.$message({showClose:!0,message:t.data.msg,type:"error"})})},chooseOnePost:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].postCode);this.selectPostId=t.join(",")},chooseAllPost:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].postCode);this.selectPostId=t.join(",")},setDepartment:function(){this.defautChoose=[],this.editInfoBefore&&void 0!=this.editInfoBefore.uuid?(this.getDeptData(),this.titleUserName=this.editInfoBefore.userName,this.defautChoose=[this.editInfoBefore.deptCode],this.chooseDept.id=this.editInfoBefore.deptCode,this.dialogDeptSet=!0):this.$message({showClose:!0,message:"请选择一条数据进行设置部门",type:"error"})},setDeptSure:function(){var e=this;if(0<this.$refs.tree2.getCheckedKeys().length){var t=new URLSearchParams;t.append("USER_CODE",this.editInfoBefore.userCode),t.append("DEPT_CODE",this.chooseDept.id),this.$axios.post(this.zpUserdept,t).then(function(t){0==t.data.code?(e.$message({showClose:!0,message:t.data.msg,type:"success"}),e.getData(),e.dialogDeptSet=!1):e.$message({showClose:!0,message:t.data.msg,type:"error"})})}else this.$message({showClose:!0,message:"请选择一个部门",type:"error"})},handleNodeClick2:function(e){this.$refs.tree2.setCheckedKeys([e.id]),this.chooseDept=e},chooseOneDept:function(e,t){1==t&&(this.$refs.tree2.setCheckedKeys([]),this.handleNodeClick2(e))},handleNodeClick1:function(e){this.$refs.tree1.setCheckedKeys([e.id]),this.chooseDept=e},chooseOneDept1:function(e,t){1==t&&(this.$refs.tree1.setCheckedKeys([]),this.handleNodeClick1(e))},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.pageNum=e},chooseOne:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].userCode);this.delNum=t.length,this.selectId=t.join(","),1==e.length?this.editInfoBefore=JSON.parse(o()(e[0])):(this.editInfo={},this.editInfoBefore={})},chooseAll:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].userCode);this.delNum=t.length,this.selectId=t.join(","),this.editInfo={},this.editInfoBefore={}},getData:function(){var e=this;this.$axios.post(this.getDataUrl+"?pageSize="+this.pageSize+"&pageNum="+this.pageNum,this.formData).then(function(t){if(e.editInfoBefore={},e.selectId={},0==t.data.code){e.tableData=t.data.data.list;for(var a=0;a<e.tableData.length;a++)0==e.tableData[a].sex?e.tableData[a].sex="女":e.tableData[a].sex="男",0==e.tableData[a].adminFlag?e.tableData[a].adminFlag="否":e.tableData[a].adminFlag="是";e.dataSize=t.data.data.total}else e.$message({showClose:!0,message:t.data.msg,type:"error"})})}}}},557:function(e,t,a){t=e.exports=a(88)(!1),t.push([e.i,".handle-box[data-v-01b0a812]{margin-bottom:20px}.inputWidth[data-v-01b0a812]{width:200px}.mar_top_12[data-v-01b0a812]{margin-top:12px}.roleStyle[data-v-01b0a812]{width:180px;height:35px;line-height:35px;float:left;text-align:center;border:1px solid #d1dbe5}.topNoStyle[data-v-01b0a812]{border-top:none}.rightNoStyle[data-v-01b0a812]{border-right:none}.tdStyle[data-v-01b0a812]{width:180px;height:40px;line-height:40px;text-align:center;border:1px solid #d1dbe5;border-top:none;border-right:none}",""])},571:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"用户账号",prop:"userAcct"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formInline.userAcct,callback:function(t){e.$set(e.formInline,"userAcct",t)},expression:"formInline.userAcct"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formInline.userName,callback:function(t){e.$set(e.formInline,"userName",t)},expression:"formInline.userName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchForm()}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:function(t){e.resetForm("formInline")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("div",{staticClass:"handle-box"},e._l(e.menuButtonList,function(t){return a("el-button",{attrs:{type:"primary",icon:t.buttonStyle},on:{click:function(a){e.chooseClick(t.buttonUrl)}}},[e._v(e._s(t.buttonName))])})),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:"",height:"380"},on:{select:e.chooseOne,"select-all":e.chooseAll}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userAcct",label:"用户账号",fixed:"left",sortable:"",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idcard",label:"身份证号码",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"固定电话",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号码",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"电子邮件",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deptName",label:"所属部门",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"adminFlag",label:"是否管理员",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ip",label:"IP地址",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"80"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.dataSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增用户",visible:e.dialogAdd,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogAdd=t}}},[a("el-dialog",{attrs:{width:"30%",title:"选择部门",visible:e.innerVisibleAdd,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.innerVisibleAdd=t}}},[a("div",{staticStyle:{"max-height":"300px",overflow:"auto"}},[a("el-tree",{attrs:{data:e.data,props:e.defaultProps,"highlight-current":!0},on:{"node-click":e.handleNodeClick}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelTreeDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addChooseSure(1)}}},[e._v("确 定")])],1)]),e._v(" "),a("el-form",{ref:"addInfo",attrs:{model:e.addInfo,"label-width":"100px",rules:e.rules,inline:!0,"label-position":"right"}},[a("el-form-item",{attrs:{label:"用户账号",prop:"userAcct"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.addInfo.userAcct,callback:function(t){e.$set(e.addInfo,"userAcct",t)},expression:"addInfo.userAcct"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.addInfo.userName,callback:function(t){e.$set(e.addInfo,"userName",t)},expression:"addInfo.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号码",prop:"idCrad"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.addInfo.idCrad,callback:function(t){e.$set(e.addInfo,"idCrad",t)},expression:"addInfo.idCrad"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"固定电话",prop:"tel"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.addInfo.tel,callback:function(t){e.$set(e.addInfo,"tel",t)},expression:"addInfo.tel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.addInfo.phone,callback:function(t){e.$set(e.addInfo,"phone",t)},expression:"addInfo.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.addInfo.email,callback:function(t){e.$set(e.addInfo,"email",t)},expression:"addInfo.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"IP地址",prop:"ip"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.addInfo.ip,callback:function(t){e.$set(e.addInfo,"ip",t)},expression:"addInfo.ip"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属部门",prop:"deptName"}},[a("el-input",{staticClass:"inputWidth",attrs:{readonly:""},on:{focus:e.openTreeChooseAdd},model:{value:e.deptName,callback:function(t){e.deptName=t},expression:"deptName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否管理员",prop:"adminFlag"}},[a("el-select",{staticClass:"inputWidth",model:{value:e.addInfo.adminFlag,callback:function(t){e.$set(e.addInfo,"adminFlag",t)},expression:"addInfo.adminFlag"}},[a("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{staticClass:"inputWidth",model:{value:e.addInfo.sex,callback:function(t){e.$set(e.addInfo,"sex",t)},expression:"addInfo.sex"}},[a("el-option",{staticStyle:{"padding-right":"0px !important"},attrs:{label:"男",value:"1"}}),e._v(" "),a("el-option",{staticStyle:{"padding-right":"0px !important"},attrs:{label:"女",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",clearable:""},model:{value:e.addInfo.remark,callback:function(t){e.$set(e.addInfo,"remark",t)},expression:"addInfo.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addSure("addInfo")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改用户",visible:e.dialogEdit,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogEdit=t}}},[a("el-dialog",{attrs:{width:"30%",title:"选择部门",visible:e.innerVisibleEdit,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.innerVisibleEdit=t}}},[a("div",{staticStyle:{"max-height":"300px",overflow:"auto"}},[a("el-tree",{ref:"tree1",attrs:{data:e.data,"show-checkbox":"",props:e.defaultProps,"default-expand-all":!0,"expand-on-click-node":!1,"node-key":"id","check-strictly":!0,"default-checked-keys":e.defautChoose},on:{"node-click":e.handleNodeClick1,"check-change":e.chooseOneDept1}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelTreeDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addChooseSure(2)}}},[e._v("确 定")])],1)]),e._v(" "),a("el-form",{ref:"editInfo",attrs:{model:e.editInfo,"label-width":"100px",rules:e.rules,inline:!0,"label-position":"right"}},[a("el-form-item",{attrs:{label:"用户账号",prop:"userAcct"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.editInfo.userAcct,callback:function(t){e.$set(e.editInfo,"userAcct",t)},expression:"editInfo.userAcct"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.editInfo.userName,callback:function(t){e.$set(e.editInfo,"userName",t)},expression:"editInfo.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号码",prop:"idCrad"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.editInfo.idCrad,callback:function(t){e.$set(e.editInfo,"idCrad",t)},expression:"editInfo.idCrad"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"固定电话",prop:"tel"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.editInfo.tel,callback:function(t){e.$set(e.editInfo,"tel",t)},expression:"editInfo.tel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.editInfo.phone,callback:function(t){e.$set(e.editInfo,"phone",t)},expression:"editInfo.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.editInfo.email,callback:function(t){e.$set(e.editInfo,"email",t)},expression:"editInfo.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"IP地址",prop:"ip"}},[a("el-input",{staticClass:"inputWidth",attrs:{clearable:""},model:{value:e.editInfo.ip,callback:function(t){e.$set(e.editInfo,"ip",t)},expression:"editInfo.ip"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门",prop:"deptName"}},[a("el-input",{staticClass:"inputWidth",attrs:{readonly:""},on:{focus:e.openTreeChooseEdit},model:{value:e.editInfo.deptName,callback:function(t){e.$set(e.editInfo,"deptName",t)},expression:"editInfo.deptName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否管理员",prop:"adminFlag"}},[a("el-select",{staticClass:"inputWidth",model:{value:e.editInfo.adminFlag,callback:function(t){e.$set(e.editInfo,"adminFlag",t)},expression:"editInfo.adminFlag"}},[a("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{staticClass:"inputWidth",model:{value:e.editInfo.sex,callback:function(t){e.$set(e.editInfo,"sex",t)},expression:"editInfo.sex"}},[a("el-option",{staticStyle:{"padding-right":"0px !important"},attrs:{label:"男",value:"1"}}),e._v(" "),a("el-option",{staticStyle:{"padding-right":"0px !important"},attrs:{label:"女",value:"0"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",clearable:""},model:{value:e.editInfo.remark,callback:function(t){e.$set(e.editInfo,"remark",t)},expression:"editInfo.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editSure("editInfo")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改密码",visible:e.dialogPwdEdit,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogPwdEdit=t}}},[a("el-form",{ref:"editPwd",attrs:{model:e.editPwd,rules:e.rules2,"label-width":"100px","label-position":"right"}},[a("el-form-item",{attrs:{label:"新密码",prop:"passWord"}},[a("el-input",{staticClass:"inputWidth",attrs:{type:"password",clearable:""},model:{value:e.editPwd.passWord,callback:function(t){e.$set(e.editPwd,"passWord",t)},expression:"editPwd.passWord"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"passWordCheck"}},[a("el-input",{staticClass:"inputWidth",attrs:{type:"password",clearable:""},model:{value:e.editPwd.passWordCheck,callback:function(t){e.$set(e.editPwd,"passWordCheck",t)},expression:"editPwd.passWordCheck"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editPwdSure("editPwd")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"指派角色",visible:e.dialogRole,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogRole=t}}},[a("div",{staticStyle:{height:"35px","padding-left":"60px"}},[a("div",{staticClass:"roleStyle rightNoStyle"},[e._v("指派角色")]),e._v(" "),a("div",{staticClass:"roleStyle rightNoStyle"},[e._v("角色名称")]),e._v(" "),a("div",{staticClass:"roleStyle"},[e._v("默认角色")])]),e._v(" "),a("div",{staticStyle:{"padding-left":"60px"}},[a("div",{staticStyle:{width:"181px",float:"left"}},[a("el-checkbox-group",{on:{change:function(t){e.chooseCheck()}},model:{value:e.roleForm.type,callback:function(t){e.$set(e.roleForm,"type",t)},expression:"roleForm.type"}},e._l(e.roleFormData,function(e){return a("div",{staticClass:"tdStyle rightNoStyle topNoStyle"},[a("el-checkbox",{attrs:{label:e.roleCode}},[a("span")])],1)}))],1),e._v(" "),a("div",{staticStyle:{width:"181px",float:"left"}},e._l(e.roleFormData,function(t){return a("div",{staticClass:"tdStyle rightNoStyle topNoStyle"},[a("span",[e._v(e._s(t.roleName))])])})),e._v(" "),a("div",{staticStyle:{width:"181px",float:"left","border-right":"1px solid #d1dbe5"}},[a("el-radio-group",{on:{change:e.chooseRadio},model:{value:e.roleForm.resource,callback:function(t){e.$set(e.roleForm,"resource",t)},expression:"roleForm.resource"}},e._l(e.roleFormData,function(e){return a("div",{staticClass:"tdStyle topNoStyle"},[a("el-radio",{staticClass:"mar_top_12",attrs:{label:e.roleCode}},[a("span")])],1)}))],1),e._v(" "),a("div",{staticStyle:{clear:"both"}})]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.roleSure()}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"设置部门-"+e.titleUserName,visible:e.dialogDeptSet,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogDeptSet=t}}},[a("div",{staticStyle:{"max-height":"300px",overflow:"auto"}},[a("el-tree",{ref:"tree2",attrs:{data:e.data,"show-checkbox":"",props:e.defaultProps,"default-expand-all":!0,"expand-on-click-node":!1,"node-key":"id","check-strictly":!0,"default-checked-keys":e.defautChoose},on:{"node-click":e.handleNodeClick2,"check-change":e.chooseOneDept}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.setDeptSure()}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"设置岗位-"+e.titleUserName,visible:e.dialogPostSet,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogPostSet=t}}},[a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tablePostData,border:"",stripe:"",height:"380"},on:{select:e.chooseOnePost,"select-all":e.chooseAllPost}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"postName",label:"岗位名称",fixed:"left",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"postNameJ",label:"岗位名称简"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deptName",label:"部门名称"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.setPostSure()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},583:function(e,t,a){var s=a(557);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(205)("d1201764",s,!0)}});